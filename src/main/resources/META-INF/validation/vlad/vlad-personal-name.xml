<?xml version="1.0" encoding="UTF-8"?>
<vlad xmlns:vlad="http://www.sapia-oss.org/vlad/rules">

	<!-- ===============================================================================================================
        PERSON NAME

        com.kosoj.entity.PersonalNameme
    -->
	<ruleSet id="checkPersonalName">
		<!-- attributes -->
		<ruleSetRef id="checkPersonalSurname"/>
		<ruleSetRef id="checkPersonalFirstname"/>

		<!-- custom part -->
		<ruleSetRef id="checkPersonalNameExtended"/>
	</ruleSet>


	<!-- CUSTOM WRAPPER ============================================================================================ -->
	<ruleSet id="checkPersonalNameExtended">
		<!-- DO NOT PUT ANYTHING HERE -->
	</ruleSet>


	<!-- ATTRIBUTES ================================================================================================ -->

	<!-- surname -->
	<ruleSet id="checkPersonalSurname">
		<vlad:notEmpty attribute="surname" id="NME001">
            <message value="MANDATORY;surname;Surname is mandatory"/>
		</vlad:notEmpty>
		<vlad:ifNotEmpty attribute="surname">
			<ruleSet id="checkSurname">
				<vlad:regExPlus attribute="surname" id="NME002" pattern="^[A-Z]'?[- a-zA-Z]*[a-zA-Z]$">
					<message value="INVALID;surname;Surname is not valid (pattern=${pattern}, value=${value})"/>
				</vlad:regExPlus>
				<vlad:minLen attribute="surname" len="2" id="NME003">
					<message value="MIN_LENGTH;surname;Surname must contain at least 2 chars"/>
				</vlad:minLen>
				<vlad:maxLen attribute="surname" len="40" id="NME004">
					<message value="MAX_LENGTH;surname;Surname cannot be larger then 40 chars"/>
				</vlad:maxLen>
			</ruleSet>
		</vlad:ifNotEmpty>
	</ruleSet>

	<!-- firstname -->
	<ruleSet id="checkPersonalFirstname">
		<vlad:notEmpty attribute="firstname" id="NME005">
            <message value="MANDATORY;firstname;Firstname is mandatory"/>
		</vlad:notEmpty>
		<vlad:ifNotEmpty attribute="firstname">
			<ruleSet id="checkFirstname">
				<vlad:regExPlus attribute="firstname" id="NME006" pattern="^[A-Z]'?[- a-zA-Z]*[a-zA-Z]$">
					<message value="INVALID;firstname;Firstname is not valid (pattern=${pattern}, value=${value})"/>
				</vlad:regExPlus>
				<vlad:minLen attribute="firstname" len="2" id="NME007">
					<message value="MIN_LENGTH;firstname;Firstname must contain at least 2 chars"/>
				</vlad:minLen>
				<vlad:maxLen attribute="firstname" len="40" id="NME008">
					<message value="MAX_LENGTH;firstname;Firstname cannot be larger then 40 chars"/>
				</vlad:maxLen>
			</ruleSet>
		</vlad:ifNotEmpty>
	</ruleSet>

</vlad>